(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),s=e.i(71645);let a=[{id:"value-estimation",name:"Value Estimation",description:"Assess student's ability to estimate numerical values"},{id:"analogies",name:"Analogies",description:"Assess student's pattern recognition and logical reasoning"},{id:"pattern-reasoning",name:"Visual Pattern Reasoning",description:"Assess student's visual pattern recognition with rotating shapes"}];function l(){let[e,l]=(0,s.useState)([]),[n,r]=(0,s.useState)(null),[i,d]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)([]),[m,g]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[b,y]=(0,s.useState)(""),[j,f]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[S,w]=(0,s.useState)(""),[k,C]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=localStorage.getItem("students");if(e){let t=JSON.parse(e).map(e=>({...e,assignedSubtests:e.assignedSubtests||e.subtests||[],completedSubtests:e.completedSubtests||[]}));l(t),localStorage.setItem("students",JSON.stringify(t))}},[]),(0,s.useEffect)(()=>{let t=()=>{let t=!1,s=e.map(e=>{if(e.sessionId&&"completed"!==e.testStatus){let s=localStorage.getItem("test_completed_".concat(e.sessionId));if(s){let a=JSON.parse(s),l=e.completedSubtests||[],n=l.includes(a.subtest)?l:[...l,a.subtest],r=e.assignedSubtests.every(e=>n.includes(e));t=!0;let i={...e,completedSubtests:n,testStatus:r?"completed":"in-progress"};if(r&&"completed"!==e.testStatus){let t=e.completionHistory||[],s={sessionId:e.sessionId,completedAt:new Date().toISOString(),subtests:n},a={...i,completionHistory:[...t,s]};return g(a),p(!0),localStorage.removeItem("test_completed_".concat(e.sessionId)),a}return i}}return e});t&&(l(s),localStorage.setItem("students",JSON.stringify(s)))};if(e.length>0){t();let e=setInterval(t,2e3);return()=>clearInterval(e)}},[e]);let I=e=>{l(e),localStorage.setItem("students",JSON.stringify(e))},T=t=>{if(!t.sessionId){let s=Math.random().toString(36).substring(2,15),a={...t,sessionId:s};return I(e.map(e=>e.id===t.id?a:e)),"".concat(window.location.origin,"/student/").concat(s)}return"".concat(window.location.origin,"/student/").concat(t.sessionId)},A=e=>{if(0===e.assignedSubtests.length)return void alert("No subtests assigned to this student");localStorage.setItem("examinerStudentInfo",JSON.stringify({firstName:e.firstName,lastName:e.lastName,grade:e.grade,age:e.age,languageType:e.languageType}));let t=e.assignedSubtests.join(",");window.location.href="/examiner?tests=".concat(t,"&session=").concat(e.sessionId)},G=t=>{I(e.filter(e=>e.id!==t)),(null==n?void 0:n.id)===t&&r(null)};return(0,t.jsxs)("div",{className:"min-h-screen bg-blue-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Queue"}),(0,t.jsx)("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800",children:"Add Student"})]})})}),(0,t.jsx)("main",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Students (",e.length,")"]})}),0===e.length?(0,t.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,t.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,t.jsx)("p",{children:'No students added yet. Click "Add Student" to get started.'})]}):(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:e.map(e=>(0,t.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>window.location.href="/profile/".concat(e.id),className:"text-left hover:text-blue-600",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Grade ",e.grade," • Age ",e.age," • ",e.languageType||"Unknown"," ",e.assignedSubtests.length>0?"• ".concat(e.assignedSubtests.length," subtest").concat(1!==e.assignedSubtests.length?"s":""," assigned"):""]})]}),(0,t.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.testStatus?"bg-green-100 text-green-800":"in-progress"===e.testStatus?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===e.testStatus?"Completed":"in-progress"===e.testStatus?"In Progress":"Not Started"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{"in-progress"===e.testStatus&&e.assignedSubtests.length>0?A(e):window.location.href="/profile/".concat(e.id)},className:"px-3 py-1 bg-blue-900 text-white text-sm rounded hover:bg-blue-800",children:"in-progress"===e.testStatus&&e.assignedSubtests.length>0?"Continue":"Start Test"}),(0,t.jsx)("button",{onClick:()=>G(e.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Delete"})]})]})},e.id))})]})}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-blue-50 bg-opacity-95 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Add New Student"})}),(0,t.jsx)("div",{className:"px-6 py-4 space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,t.jsx)("input",{type:"text",id:"firstName",value:b,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"Enter first name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,t.jsx)("input",{type:"text",id:"lastName",value:j,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"Enter last name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade"}),(0,t.jsxs)("select",{id:"grade",value:N,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,t.jsx)("option",{value:"",children:"Select Grade"}),(0,t.jsx)("option",{value:"K",children:"Kindergarten"}),(0,t.jsx)("option",{value:"1",children:"1st Grade"}),(0,t.jsx)("option",{value:"2",children:"2nd Grade"}),(0,t.jsx)("option",{value:"3",children:"3rd Grade"}),(0,t.jsx)("option",{value:"4",children:"4th Grade"}),(0,t.jsx)("option",{value:"5",children:"5th Grade"}),(0,t.jsx)("option",{value:"6",children:"6th Grade"}),(0,t.jsx)("option",{value:"7",children:"7th Grade"}),(0,t.jsx)("option",{value:"8",children:"8th Grade"}),(0,t.jsx)("option",{value:"9",children:"9th Grade"}),(0,t.jsx)("option",{value:"10",children:"10th Grade"}),(0,t.jsx)("option",{value:"11",children:"11th Grade"}),(0,t.jsx)("option",{value:"12",children:"12th Grade"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),(0,t.jsxs)("select",{id:"age",value:S,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,t.jsx)("option",{value:"",children:"Select Age"}),Array.from({length:13},(e,t)=>t+5).map(e=>(0,t.jsxs)("option",{value:e,children:[e," years old"]},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"languageType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Language Type"}),(0,t.jsxs)("select",{id:"languageType",value:k,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,t.jsx)("option",{value:"",children:"Select Language Type"}),(0,t.jsx)("option",{value:"monolingual",children:"Monolingual"}),(0,t.jsx)("option",{value:"multilingual",children:"Multilingual"})]})]})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{d(!1),y(""),f(""),v(""),w(""),C(""),x([])},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!b.trim()||!j.trim()||!N||!S||!k)return void alert("Please fill in all student information");I([...e,{id:Math.random().toString(36).substring(2,15),firstName:b.trim(),lastName:j.trim(),grade:N,age:S,languageType:k,createdAt:new Date().toISOString(),completedSubtests:[],testStatus:"not-started",assignedSubtests:[]}]),y(""),f(""),v(""),w(""),C(""),d(!1)},disabled:!b.trim()||!j.trim()||!N||!S||!k,className:"px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Add Student"})]})]})}),n&&!o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[n.firstName," ",n.lastName]}),(0,t.jsx)("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Grade:"}),(0,t.jsx)("p",{className:"font-medium",children:n.grade})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Age:"}),(0,t.jsxs)("p",{className:"font-medium",children:[n.age," years old"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Language Type:"}),(0,t.jsx)("p",{className:"font-medium capitalize",children:n.languageType||"Unknown"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Added:"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,t.jsx)("p",{className:"font-medium ".concat("completed"===n.testStatus?"text-green-600":"in-progress"===n.testStatus?"text-yellow-600":"text-gray-600"),children:"completed"===n.testStatus?"Completed":"in-progress"===n.testStatus?"In Progress":"Not Started"})]})]}),n.sessionId&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Student Link"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"text",value:T(n),readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded text-sm"}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(T(n)),alert("Link copied!")},className:"px-3 py-2 bg-blue-900 text-white text-sm rounded hover:bg-blue-800",children:"Copy"})]})]}),n.assignedSubtests.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Assigned Subtests"}),(0,t.jsx)("div",{className:"space-y-2",children:n.assignedSubtests.map(e=>{let s=a.find(t=>t.id===e),l=n.completedSubtests.includes(e);return(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:null==s?void 0:s.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:null==s?void 0:s.description})]}),(0,t.jsx)("div",{className:"px-2 py-1 rounded text-xs font-medium ".concat(l?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:l?"Completed":"Pending"})]},e)})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:["in-progress"===n.testStatus&&n.assignedSubtests.length>0?(0,t.jsx)("button",{onClick:()=>{A(n),r(null)},className:"w-full px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800",children:"Continue Testing"}):(0,t.jsx)("button",{onClick:()=>{c(!0),x(n.assignedSubtests)},className:"w-full px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800",children:n.assignedSubtests.length>0?"Start New Test":"Start Test"}),(0,t.jsx)("button",{onClick:()=>{G(n.id),r(null)},className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Delete Student"})]})]})]})}),n&&o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Select Tests for ",n.firstName," ",n.lastName]}),(0,t.jsx)("button",{onClick:()=>{c(!1),x([])},className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsx)("div",{className:"px-6 py-4 space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Subtests"}),(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"modal-".concat(e.id),checked:u.includes(e.id),onChange:()=>{var t;return t=e.id,void x(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{htmlFor:"modal-".concat(e.id),className:"text-sm font-medium text-gray-900 cursor-pointer",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{c(!1),x([])},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{(()=>{if(!n||0===u.length)return alert("Please select at least one subtest");let t=n.sessionId||Math.random().toString(36).substring(2,15);I(e.map(e=>e.id===n.id?{...e,sessionId:t,testStatus:"in-progress",assignedSubtests:u}:e)),localStorage.setItem("examinerStudentInfo",JSON.stringify({firstName:n.firstName,lastName:n.lastName,grade:n.grade,age:n.age,languageType:n.languageType}));let s=u.join(",");window.location.href="/examiner?tests=".concat(s,"&session=").concat(t)})(),c(!1),r(null),x([])},disabled:0===u.length,className:"px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Start Test"})]})]})}),h&&m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Test Completed!"]})}),(0,t.jsxs)("div",{className:"px-6 py-4",children:[(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:[m.firstName," ",m.lastName," has completed all assigned subtests."]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"What would you like to do next?"})]}),(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex flex-col space-y-3",children:[(0,t.jsx)("button",{onClick:()=>{p(!1),g(null)},className:"w-full px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800",children:"Go to Dashboard"}),(0,t.jsx)("button",{onClick:()=>{p(!1),g(null)},className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Stay on Current Page"})]})]})})]})}}]);