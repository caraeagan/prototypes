(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},88095,e=>{"use strict";e.s(["default",()=>l,"dynamic",()=>i]);var s=e.i(43476),t=e.i(18566),a=e.i(71645);let i="force-dynamic",n=[{id:"delayed-recall",name:"Delayed Recall",description:"Assess delayed memory recall abilities",phase:"Pilot: Phase 3"},{id:"letter-number-formation",name:"Letter & Number Formation",description:"Assess formation of letters and numbers",phase:"Pilot: Phase 2"},{id:"visual-pattern-reasoning",name:"Visual Pattern Reasoning",description:"Assess visual pattern recognition with rotating shapes",phase:"Pilot: Phase 3"},{id:"sentence-construction",name:"Sentence Construction",description:"Assess ability to construct sentences",phase:"Pilot: Phase 2"},{id:"tracing-test",name:"Tracing Test",description:"Assess fine motor tracing abilities",phase:"Pilot: Phase 3"},{id:"associate-learning",name:"Associate Learning",description:"Assess associative learning capabilities",phase:"Pilot: Phase 3"},{id:"handwritten-alphabetic-fluency",name:"Handwritten Alphabetic Fluency",description:"Assess handwritten alphabet fluency",phase:"Pilot: Phase 2"},{id:"numeric-capacity-forward",name:"Numeric Capacity Forward",description:"Assess forward numeric span capacity",phase:"Pilot: Phase 2"},{id:"essay-handwritten",name:"Essay (Handwritten)",description:"Assess handwritten essay composition",phase:"Pilot: Phase 1"},{id:"handwritten-numeric-fluency",name:"Handwritten Numeric Fluency",description:"Assess handwritten numeric fluency",phase:"Pilot: Phase 2"},{id:"oral-expression-vocabulary",name:"Oral Expression & Vocabulary",description:"Assess oral expression and vocabulary skills",phase:"Pilot: Phase 2"},{id:"division-fluency",name:"Division Fluency",description:"Assess division calculation fluency",phase:"Pilot: Phase 1, Pre Pilot"},{id:"multiplication-fluency",name:"Multiplication Fluency",description:"Assess multiplication calculation fluency",phase:"Pilot: Phase 1, Pre Pilot"},{id:"subtraction-fluency",name:"Subtraction Fluency",description:"Assess subtraction calculation fluency",phase:"Pilot: Phase 1, Pre Pilot"},{id:"addition-fluency",name:"Addition Fluency",description:"Assess addition calculation fluency",phase:"Pilot: Phase 1, Pre Pilot"},{id:"reading-comprehension",name:"Reading Comprehension",description:"Assess reading comprehension abilities",phase:"Pilot: Phase 3"},{id:"oral-reading-fluency",name:"Oral Reading Fluency",description:"Assess oral reading fluency",phase:"Pilot: Phase 2"},{id:"listening-comprehension",name:"Listening Comprehension",description:"Assess listening comprehension skills",phase:"Pilot: Phase 3"},{id:"visual-memory",name:"Visual Memory",description:"Assess visual memory capabilities",phase:"Pilot: Phase 3"},{id:"visual-discrimination",name:"Visual Discrimination",description:"Assess visual discrimination abilities",phase:"Pilot: Phase 3"},{id:"sequencing-planning",name:"Sequencing and Planning",description:"Assess sequencing and planning skills",phase:"Pilot: Phase 2"},{id:"semantic-fluency",name:"Semantic Fluency",description:"Assess semantic fluency abilities",phase:"Pilot: Phase 2"},{id:"analogies-test",name:"Analogies Test",description:"Assess pattern recognition and logical reasoning",phase:"Pilot: Phase 2"},{id:"essay-typed",name:"Essay (Typed)",description:"Assess typed essay composition",phase:"Pilot: Phase 1"},{id:"sentence-editing",name:"Sentence Editing",description:"Assess sentence editing abilities",phase:"Pilot: Phase 3"},{id:"sentence-composition-fluency",name:"Sentence Composition Fluency",description:"Assess sentence composition fluency",phase:"Pilot: Phase 2"},{id:"keyboard-transcription-fluency",name:"Keyboard Transcription Fluency",description:"Assess keyboard transcription speed and accuracy",phase:"Pilot: Phase 2"},{id:"receptive-vocabulary",name:"Receptive Vocabulary",description:"Assess receptive vocabulary knowledge",phase:"Pilot: Phase 1"},{id:"nonsense-word-decoding",name:"Nonsense Word Decoding",description:"Assess phonetic decoding abilities",phase:"Pilot: Phase 1"},{id:"reading-span",name:"Reading Span",description:"Assess reading span capacity",phase:"Pilot: Phase 3"},{id:"orthographic-fluency",name:"Orthographic Fluency",description:"Assess orthographic processing fluency",phase:"Pilot: Phase 2"},{id:"phonological-awareness",name:"Phonological Awareness",description:"Assess phonological awareness skills",phase:"Pilot: Phase 3"},{id:"math-concepts-applications",name:"Math Concepts and Applications",description:"Assess mathematical concepts and applications",phase:"Pilot: Phase 2"},{id:"value-estimation",name:"Value Estimation",description:"Assess ability to estimate numerical values",phase:"Pilot: Phase 3"},{id:"numeric-capacity-backwards",name:"Numeric Capacity Backwards",description:"Assess backward numeric span capacity",phase:"Pilot: Phase 1"},{id:"math-computation",name:"Math Computation",description:"Assess mathematical computation skills",phase:"Pilot: Phase 1"},{id:"spelling",name:"Spelling",description:"Assess spelling abilities",phase:"Pilot: Phase 1, Pre Pilot"},{id:"letter-word-identification",name:"Letter and Word Identification",description:"Assess letter and word identification skills",phase:"Pilot: Phase 1, Pre Pilot"}];function l(){let e=(0,t.useParams)(),i=(0,t.useRouter)(),l=e.studentId,[r,o]=(0,a.useState)(null),[d,c]=(0,a.useState)([]),[m,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(1),[x,g]=(0,a.useState)(null),[b,y]=(0,a.useState)([]),[f,j]=(0,a.useState)([]),[N,v]=(0,a.useState)(""),[w,P]=(0,a.useState)(!1),[S,C]=(0,a.useState)(""),[A,k]=(0,a.useState)(""),[L,I]=(0,a.useState)(""),[F,T]=(0,a.useState)(""),[D,M]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=localStorage.getItem("students");if(e){let s=JSON.parse(e).find(e=>e.id===l);s?o(s):i.push("/dashboard")}else i.push("/dashboard")},[l,i]);let O=()=>{let e=(()=>{if(!r)return[];let e=r.grade.toLowerCase(),s=r.languageType;if("multilingual"===s)return["Pilot: Phase 1","Pilot: Phase 2"];if("monolingual"===s)if("k"===e||"ps"===e||"no school"===e)return["Pilot: Phase 1","Pilot: Phase 2"];else return["Pilot: Phase 2"];return[]})();y(e),c(e.flatMap(e=>n.filter(s=>s.phase.includes(e)).map(e=>e.id)))},R=()=>{c([]),y([]),j([]),v(""),C(""),k(""),I(""),T(""),M(""),(null==r?void 0:r.languageType)==="monolingual"?(h(5),setTimeout(O,0)):h(2)},B=()=>{u(!1),R()},E=()=>(null==r?void 0:r.sessionId)?"".concat(window.location.origin,"/student/").concat(r.sessionId):"";return r?(0,s.jsxs)("div",{className:"min-h-screen bg-blue-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("button",{onClick:()=>i.push("/dashboard"),className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("completed"===r.testStatus?"bg-green-100 text-green-800":"in-progress"===r.testStatus?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===r.testStatus?"Completed":"in-progress"===r.testStatus?"In Progress":"Not Started"}),(0,s.jsx)("button",{onClick:()=>{R(),u(!0)},className:"px-4 py-2 bg-green-600 text-white text-sm rounded-lg font-medium hover:bg-green-700",children:"Start Assessment"})]})]})})}),(0,s.jsxs)("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:[r.firstName," ",r.lastName]}),(0,s.jsxs)("p",{className:"text-sm font-mono text-gray-400 mb-2",children:["ID: ",r.id]}),(0,s.jsx)("p",{className:"text-gray-600",children:"Student Profile"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Student Information"})}),(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Grade:"}),(0,s.jsx)("p",{className:"font-medium",children:r.grade})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Age:"}),(0,s.jsxs)("p",{className:"font-medium",children:[r.age," years old"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Added:"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(r.createdAt).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Student ID:"}),(0,s.jsx)("p",{className:"font-medium text-xs",children:r.id})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Assessment Status"}),(0,s.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("completed"===r.testStatus?"bg-green-100 text-green-800":"in-progress"===r.testStatus?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===r.testStatus?"Completed":"in-progress"===r.testStatus?"In Progress":"Not Started"})]})}),(0,s.jsx)("div",{className:"px-6 py-4",children:"not-started"===r.testStatus?(0,s.jsx)("p",{className:"text-gray-600",children:'No assessments started yet. Click "Start Assessment" to begin.'}):(0,s.jsxs)(s.Fragment,{children:[r.sessionId&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("span",{className:"text-gray-500 text-sm",children:"Student Link:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)("input",{type:"text",value:E(),readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded text-sm"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(E()),alert("Link copied!")},className:"px-3 py-2 bg-blue-900 text-white text-sm rounded hover:bg-blue-800",children:"Copy"})]})]}),r.completedSubtests.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("span",{className:"text-gray-500 text-sm",children:"Completed Subtests:"}),(0,s.jsx)("div",{className:"mt-2 space-y-2",children:r.completedSubtests.map(e=>{let t=n.find(s=>s.id===e);return(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded bg-green-50 border border-green-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm text-green-800",children:null==t?void 0:t.name}),(0,s.jsx)("p",{className:"text-xs text-green-600",children:null==t?void 0:t.description})]}),(0,s.jsxs)("div",{className:"px-2 py-1 rounded text-xs font-medium flex items-center space-x-1 bg-green-100 text-green-800",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,s.jsx)("span",{children:"Completed"})]})]},e)})})]}),"in-progress"===r.testStatus&&(0,s.jsx)("button",{onClick:()=>{if(!r||!r.sessionId||0===r.assignedSubtests.length)return;localStorage.setItem("examinerStudentInfo",JSON.stringify({firstName:r.firstName,lastName:r.lastName,grade:r.grade,age:r.age}));let e=r.assignedSubtests.join(",");window.location.href="/examiner?tests=".concat(e,"&session=").concat(r.sessionId)},className:"w-full px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800",children:"Continue Current Session"})]})})]}),r.completionHistory&&r.completionHistory.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Testing History"})}),(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"space-y-4",children:r.completionHistory.map((e,t)=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-sm",children:["Session ",t+1]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.sessionId})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.completedAt).toLocaleDateString()}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.completedAt).toLocaleTimeString()})]})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Completed Subtests:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.subtests.map(e=>{let t=n.find(s=>s.id===e);return(0,s.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:null==t?void 0:t.name},e)})})]})]},e.sessionId))})})]})]}),m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-blue-100 bg-opacity-90 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Start New Assessment for ",null==r?void 0:r.firstName," ",null==r?void 0:r.lastName]}),(0,s.jsx)("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("div",{className:"px-6 py-4 space-y-6",children:[2===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Respondent Information"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Who is responding to this questionnaire?"}),(0,s.jsx)("div",{className:"space-y-3",children:["Parent","Student","Someone else"].map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",id:e,name:"respondent",checked:S===e,onChange:()=>C(e),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("label",{htmlFor:e,className:"text-sm font-medium text-gray-900",children:e})]},e))})]}),3===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"English Learning Background"}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:["When did ","Student"===S?"you":"your student"," start to learn English and under what conditions?"]}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{value:A,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",rows:4,placeholder:"Please describe when and how English learning began..."})})]}),4===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"School History"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["When did ","Student"===S?"you":"your student"," start school?"]}),(0,s.jsx)("input",{type:"text",value:L,onChange:e=>I(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"e.g., Age 5, September 2018, etc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["When did ","Student"===S?"you":"your student"," start school in the US?"]}),(0,s.jsx)("input",{type:"text",value:F,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"e.g., Kindergarten, 2nd grade, September 2020, etc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Were there any significant gaps in English learning from that period?"}),(0,s.jsx)("textarea",{value:D,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",rows:3,placeholder:"Please describe any gaps or interruptions in English learning..."})]})]})]}),5===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Subtests"}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search for a subtest...",value:N,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),(0,s.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:["Based on your selections, some subtests have been automatically selected for ",null==r?void 0:r.firstName,". You can check or uncheck any subtest below."]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>{let e=n.filter(e=>!N||e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase())||e.phase.toLowerCase().includes(N.toLowerCase())).map(e=>e.id);c(s=>[...new Set([...s,...e])])},className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:["Select All",N?" (filtered)":""]}),(0,s.jsxs)("button",{onClick:()=>{let e=n.filter(e=>!N||e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase())||e.phase.toLowerCase().includes(N.toLowerCase())).map(e=>e.id);c(s=>s.filter(s=>!e.includes(s)))},className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:["Deselect All",N?" (filtered)":""]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[d.length," selected"]})]}),(0,s.jsxs)("div",{className:"space-y-2 h-64 overflow-y-auto border border-gray-200 rounded-lg mb-4",children:[n.filter(e=>!N||e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase())||e.phase.toLowerCase().includes(N.toLowerCase())).map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-4 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,s.jsx)("input",{type:"checkbox",id:"subtest-".concat(e.id),checked:d.includes(e.id),onChange:()=>{var s;return s=e.id,void c(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("label",{htmlFor:"subtest-".concat(e.id),className:"text-sm font-medium text-gray-900 cursor-pointer",children:e.name}),(0,s.jsx)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:e.phase})]}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]})]},e.id)),0===n.filter(e=>!N||e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase())||e.phase.toLowerCase().includes(N.toLowerCase())).length&&(0,s.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No subtests match your search."})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsxs)("strong",{children:[d.length," subtest",1!==d.length?"s":""]})," selected for assessment"]})})]})]}),(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-between",children:[(0,s.jsx)("button",{onClick:B,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Cancel"}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[p>2&&p<5&&(0,s.jsx)("button",{onClick:()=>h(p-1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Back"}),p<5?(0,s.jsx)("button",{onClick:()=>{2===p&&S?h(3):3===p&&A?h(4):4===p&&L&&F&&D&&(h(5),setTimeout(O,0))},disabled:2===p&&!S||3===p&&!A||4===p&&(!L||!F||!D),className:"px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Next"}):(0,s.jsx)("button",{onClick:()=>{(()=>{if(0===d.length)return alert("Please select at least one subtest");if(!r)return;let e=Math.random().toString(36).substring(2,15),s=r.completionHistory||[];r.sessionId&&"completed"===r.testStatus&&s.push({sessionId:r.sessionId,completedAt:new Date().toISOString(),subtests:r.completedSubtests});let t={...r,sessionId:e,testStatus:"in-progress",assignedSubtests:d,completedSubtests:[],completionHistory:s},a=localStorage.getItem("students");if(a){let e=JSON.parse(a).map(e=>e.id===l?t:e);localStorage.setItem("students",JSON.stringify(e))}localStorage.setItem("examinerStudentInfo",JSON.stringify({firstName:r.firstName,lastName:r.lastName,grade:r.grade,age:r.age}));let i=d.join(",");window.location.href="/examiner?tests=".concat(i,"&session=").concat(e)})(),B()},disabled:0===d.length,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Start Assessment"})]})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-900 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})}}]);