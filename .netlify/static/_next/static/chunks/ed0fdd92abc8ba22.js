(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},98252,e=>{"use strict";e.s(["default",()=>l,"dynamic",()=>s]);var t=e.i(43476),r=e.i(18566),i=e.i(71645);let s="force-dynamic",a=[{id:1,type:"letter",item:"A",difficulty:"easy",category:"uppercase"},{id:2,type:"letter",item:"b",difficulty:"easy",category:"lowercase"},{id:3,type:"letter",item:"M",difficulty:"easy",category:"uppercase"},{id:4,type:"letter",item:"d",difficulty:"easy",category:"lowercase"},{id:5,type:"letter",item:"R",difficulty:"medium",category:"uppercase"},{id:6,type:"letter",item:"g",difficulty:"medium",category:"lowercase"},{id:7,type:"letter",item:"Q",difficulty:"hard",category:"uppercase"},{id:8,type:"letter",item:"x",difficulty:"hard",category:"lowercase"},{id:9,type:"word",item:"cat",difficulty:"easy",category:"sight_word"},{id:10,type:"word",item:"the",difficulty:"easy",category:"sight_word"},{id:11,type:"word",item:"dog",difficulty:"easy",category:"sight_word"},{id:12,type:"word",item:"run",difficulty:"medium",category:"sight_word"},{id:13,type:"word",item:"jump",difficulty:"medium",category:"sight_word"},{id:14,type:"word",item:"beautiful",difficulty:"hard",category:"sight_word"},{id:15,type:"word",item:"through",difficulty:"hard",category:"sight_word"}];function l(){let e=(0,r.useParams)();(0,r.useRouter)();let s=e.sessionId,[l,d]=(0,i.useState)(null),[n,o]=(0,i.useState)(0),[c,m]=(0,i.useState)({}),[x,u]=(0,i.useState)("active"),[h,y]=(0,i.useState)("");(0,i.useEffect)(()=>{{let e=localStorage.getItem("student_".concat(s));e&&d(JSON.parse(e))}},[s]),(0,i.useEffect)(()=>{if("waiting"===x){let e=()=>{try{let e=localStorage.getItem("examinerCommand_".concat(s));if(e){let t=JSON.parse(e);"complete_test"===t.action&&(localStorage.removeItem("examinerCommand_".concat(s)),u("completed"))}}catch(e){console.error("Error polling for examiner commands:",e)}};e();let t=setInterval(e,1e3);return()=>clearInterval(t)}},[x,s]);let g=e=>{let t={...c};t[n]={answer:e.trim(),correctItem:a[n].item,type:a[n].type,isComplete:e.trim().length>0},m(t);{let e={currentQuestion:n,answers:t,studentName:(null==l?void 0:l.firstName)||"Student",testType:"letter-word-identification"};localStorage.setItem("letterWordIdentificationTestState_".concat(s),JSON.stringify(e))}},p=(0,i.useCallback)(()=>{h.trim()&&g(h),n<a.length-1&&(o(n+1),y(""))},[n,h]),f=()=>{h.trim()&&g(h);let e=a.map((e,t)=>{let r=c[t]||{answer:"",correctItem:e.item,type:e.type},i=r.answer.toLowerCase()===e.item.toLowerCase();return{questionId:e.id,type:e.type,item:e.item,studentAnswer:r.answer,isCorrect:i,timestamp:new Date().toISOString()}});{localStorage.setItem("letterWordIdentificationTest_".concat(s),JSON.stringify(e));let t={testComplete:!0,currentSubtest:"letter_word_identification_complete",studentName:(null==l?void 0:l.firstName)||"Student"};localStorage.setItem("waitingState_".concat(s),JSON.stringify(t)),localStorage.setItem("test_completed_".concat(s),JSON.stringify({completed:!0,subtest:"letter-word-identification",timestamp:new Date().toISOString()}))}u("waiting")};if((0,i.useEffect)(()=>{let e=e=>{"Enter"===e.key&&"active"===x&&(e.preventDefault(),n===a.length-1?h.trim()&&f():h.trim()&&p())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[x,n,h,p]),!l)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-900 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if("waiting"===x)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please Wait"}),(0,t.jsx)("p",{className:"text-gray-600",children:"The next activity will begin soon."})]})});if("completed"===x)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Great Job!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"You completed the letter and word identification test."})]})});let b=a[n],w="letter"===b.type;return(0,t.jsxs)("div",{className:"min-h-screen bg-blue-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Letter and Word Identification"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:l.firstName})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["letter"===b.type?"Letter":"Word"," ",n+1," of ",a.length]})})]})})}),(0,t.jsx)("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:w?"Name this letter":"Read this word"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"bg-white border-4 rounded-xl p-8 inline-block shadow-lg ".concat(w?"border-green-600":"border-purple-600"),children:[(0,t.jsx)("div",{className:"font-bold text-gray-900 mb-2 ".concat(w?"text-8xl":"text-6xl"),children:b.item}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:w?"(".concat(b.category," letter)"):"(Read this word aloud)"})]})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:w?"Please tell the examiner the name of this letter.":"Please read this word out loud to the examiner."}),(0,t.jsx)("p",{className:"text-md text-gray-600",children:"Then type your answer in the box below:"})]}),(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)("label",{htmlFor:"identification-input",className:"block text-lg font-medium text-gray-700 mb-4",children:w?"Type the letter name:":"Type the word:"}),(0,t.jsx)("input",{id:"identification-input",type:"text",value:h,onChange:e=>{y(e.target.value)},placeholder:w?"Letter name...":"Type the word...",className:"w-full px-4 py-4 text-xl text-center border-2 border-gray-300 rounded-xl focus:border-blue-900 focus:outline-none",autoFocus:!0}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-3",children:["Press ",(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-xs",children:"Enter"})," or click Next to continue"]})]})]}),(0,t.jsxs)("div",{className:"mt-8 flex justify-between items-center",children:[(0,t.jsx)("button",{onClick:()=>{if(n>0){var e;o(n-1),y((null==(e=c[n-1])?void 0:e.answer)||"")}},disabled:0===n,className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["letter"===b.type?"Letter":"Word"," ",n+1," of ",a.length]}),n===a.length-1?(0,t.jsx)("button",{onClick:f,disabled:!h.trim(),className:"px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Finish Test"}):(0,t.jsx)("button",{onClick:p,disabled:!h.trim(),className:"px-6 py-3 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})}}]);