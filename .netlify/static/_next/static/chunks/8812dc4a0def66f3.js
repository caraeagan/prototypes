(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},15156,e=>{"use strict";e.s(["default",()=>o,"dynamic",()=>r]);var t=e.i(43476),s=e.i(18566),l=e.i(71645);let r="force-dynamic",a=[{id:1,type:"finger_count",question:"Without counting, how many fingers do you see on this hand?",correctAnswer:2},{id:2,type:"comparison",question:"Which is taller, a kangaroo or a giraffe?",objectA:{name:"Kangaroo",emoji:"🦘",size:"medium"},objectB:{name:"Giraffe",emoji:"🦒",size:"tall"},correctAnswer:"B"},{id:3,type:"circles_yesno",question:"Are all these circles the same size?",correctAnswer:"no",differentCirclePosition:15},{id:4,type:"circles_select",question:"Which circle is a different size?",correctAnswer:15,differentCirclePosition:15},{id:5,type:"area_estimation",question:"Each figure below is made up of a shape inside of a square. Which figure do you think shows the square and a figure that are about the same area?",figures:[{id:1,description:"Circle in square",shape:"circle"},{id:2,description:"Plus shape in square",shape:"plus"},{id:3,description:"Triangle in square",shape:"triangle"},{id:4,description:"Diamond in square",shape:"diamond"},{id:5,description:"Hexagon in square",shape:"hexagon"},{id:6,description:"Cross in square",shape:"cross"}],correctAnswer:4},{id:6,type:"weight_comparison",question:"Which weighs more, a feather or a rock?",objectA:{name:"Feather",emoji:"🪶",size:"light"},objectB:{name:"Rock",emoji:"🪨",size:"heavy"},correctAnswer:"B"},{id:7,type:"dots_yesno",question:"Are all these dots the same size?",correctAnswer:"no",smallestDotPosition:8},{id:8,type:"dots_select_smallest",question:"Which dot is the smallest?",correctAnswer:8,smallestDotPosition:8,showOnlyIf:{previousQuestionId:7,previousAnswer:"no"}},{id:9,type:"liquid_capacity",question:"Which of these do you think holds the most water or liquid?",containers:[{id:1,description:"Red bucket",name:"Bucket",emoji:"🪣"},{id:2,description:"Water bottle",name:"Water Bottle",emoji:"🍼"},{id:3,description:"Cement mixer truck",name:"Cement Truck",emoji:"🚛"},{id:4,description:"Soda can",name:"Soda Can",emoji:"🥤"},{id:5,description:"Glass pitcher",name:"Pitcher",emoji:"🫖"},{id:6,description:"Water cooler jug",name:"Water Jug",emoji:"🏺"},{id:7,description:"Coffee cup",name:"Coffee Cup",emoji:"☕"},{id:8,description:"Glass jar",name:"Glass Jar",emoji:"🫙"}],correctAnswer:3},{id:10,type:"messy_room_comparison",question:"Here are two pictures of messy bedrooms. It's now time to clean them up. If both kids clean their room at the same rate, which one will take longer to clear their room up?",roomA:{name:"Room A",description:"First messy bedroom",image:"/images/messy-room-1.jpg",messiness:"moderate"},roomB:{name:"Room B",description:"Second messy bedroom",image:"/images/messy-room-2.jpg",messiness:"high"},correctAnswer:"B"},{id:11,type:"finger_comparison",question:"Which hand had more fingers up?",leftHand:{name:"Left Hand",fingers:3,image:"/images/hand-3-fingers.png"},rightHand:{name:"Right Hand",fingers:5,image:"/images/hand-5-fingers.png"},correctAnswer:"right",displayTime:5e3},{id:12,type:"audio_estimation",question:"Do you think there are more than 50 people cheering or less than 50 people cheering?",instruction:"Listen to this",audioFile:"/audio/crowd-cheering.mp3",correctAnswer:"more",estimationThreshold:50},{id:13,type:"audio_duration_comparison",question:"Which sound was longer?",instruction:"Listen to both sounds, then choose which one was longer",audioA:{name:"Sound A",file:"/audio/sound-a.mp3",duration:2e3},audioB:{name:"Sound B",file:"/audio/sound-b.mp3",duration:4e3},correctAnswer:"B"}];function o(){var e,r,o,n,i,c,d,m,x,u,h,p,g,b,j,f,y,v,N,w,k,C,_,A,S,B,W,L,q;let I=(0,s.useParams)(),H=(0,s.useRouter)(),P=I.sessionId,[T,z]=(0,l.useState)(null),[D,F]=(0,l.useState)(0),[M,O]=(0,l.useState)({}),[R,J]=(0,l.useState)("active"),[E,G]=(0,l.useState)(!0),[Q,K]=(0,l.useState)(!0),[V,Y]=(0,l.useState)(!1),[U,X]=(0,l.useState)(!1),[Z,$]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(!1),[es,el]=(0,l.useState)(!1),[er,ea]=(0,l.useState)(!1);(0,l.useEffect)(()=>{{let e=localStorage.getItem("student_".concat(P));e&&z(JSON.parse(e))}},[P]),(0,l.useEffect)(()=>{if("waiting"===R){let e=()=>{try{let e=localStorage.getItem("examinerCommand_".concat(P));if(e){let t=JSON.parse(e);"start_analogies"===t.action?(localStorage.removeItem("examinerCommand_".concat(P)),H.push("/student/".concat(P,"/analogies"))):"start_pattern_reasoning"===t.action?(localStorage.removeItem("examinerCommand_".concat(P)),H.push("/student/".concat(P,"/pattern-reasoning"))):"complete_test"===t.action&&(localStorage.removeItem("examinerCommand_".concat(P)),J("completed"))}}catch(e){console.error("Error polling for examiner commands:",e)}};e();let t=setInterval(e,1e3);return()=>clearInterval(t)}},[R,P,H]),(0,l.useEffect)(()=>{let e=a[D];if("finger_count"===e.type){G(!0);let e=setTimeout(()=>{G(!1)},1e3);return()=>clearTimeout(e)}if("finger_comparison"===e.type){K(!0);let t=setTimeout(()=>{K(!1)},e.displayTime||5e3);return()=>clearTimeout(t)}"audio_estimation"===e.type?(Y(!1),X(!1)):"audio_duration_comparison"===e.type&&($(!1),et(!1),el(!1),ea(!1))},[D]);let eo=e=>{let t={...M};t[D]={answer:e,isComplete:null!=e&&""!==e},O(t);{let e={currentQuestion:D,answers:t,studentName:(null==T?void 0:T.firstName)||"Student"};localStorage.setItem("testState_".concat(P),JSON.stringify(e))}},en=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=[],l=a[D],r=[{top:"10%",left:"15%"},{top:"8%",left:"45%"},{top:"12%",left:"75%"},{top:"18%",left:"30%"},{top:"22%",left:"60%"},{top:"25%",left:"85%"},{top:"28%",left:"10%"},{top:"32%",left:"40%"},{top:"35%",left:"70%"},{top:"40%",left:"25%"},{top:"38%",left:"55%"},{top:"42%",left:"80%"},{top:"48%",left:"18%"},{top:"52%",left:"48%"},{top:"50%",left:"75%"},{top:"58%",left:"35%"},{top:"62%",left:"65%"},{top:"60%",left:"90%"},{top:"68%",left:"20%"},{top:"72%",left:"50%"},{top:"70%",left:"80%"},{top:"78%",left:"10%"},{top:"82%",left:"40%"},{top:"85%",left:"65%"}];for(let a=0;a<24;a++){var o;let n=a===l.differentCirclePosition,i=e&&(null==(o=M[D])?void 0:o.answer)===a,c=r[a];e?s.push((0,t.jsx)("button",{onClick:()=>eo(a),className:"absolute rounded-full transition-all ".concat(i?"bg-blue-900 border-2 border-blue-900":"bg-green-300 border-2 border-green-300 hover:border-blue-900"),style:{width:n?"48px":"40px",height:n?"48px":"40px",top:c.top,left:c.left,transform:"translate(-50%, -50%)"}},a)):s.push((0,t.jsx)("div",{className:"absolute rounded-full bg-green-300 border-2 border-green-300",style:{width:n?"48px":"40px",height:n?"48px":"40px",top:c.top,left:c.left,transform:"translate(-50%, -50%)"}},a))}return(0,t.jsx)("div",{className:"relative w-full h-96 max-w-2xl mx-auto",children:s})},ei=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=[],l=a[D],r=[{top:"15%",left:"20%"},{top:"12%",left:"50%"},{top:"18%",left:"80%"},{top:"35%",left:"15%"},{top:"30%",left:"45%"},{top:"40%",left:"75%"},{top:"55%",left:"25%"},{top:"50%",left:"60%"},{top:"45%",left:"85%"},{top:"75%",left:"20%"},{top:"80%",left:"55%"},{top:"70%",left:"80%"}],o=e=>e===l.smallestDotPosition?"28px":3===e||9===e?"52px":1===e||7===e?"46px":2===e||5===e||11===e?"42px":4===e||6===e?"38px":"32px";for(let l=0;l<12;l++){var n;let a=e&&(null==(n=M[D])?void 0:n.answer)===l,i=r[l],c=o(l);e?s.push((0,t.jsx)("button",{onClick:()=>eo(l),className:"absolute rounded-full transition-all ".concat(a?"bg-blue-900 border-2 border-blue-900":"bg-red-400 border-2 border-red-400 hover:border-blue-900"),style:{width:c,height:c,top:i.top,left:i.left,transform:"translate(-50%, -50%)"}},l)):s.push((0,t.jsx)("div",{className:"absolute rounded-full bg-red-400 border-2 border-red-400",style:{width:c,height:c,top:i.top,left:i.left,transform:"translate(-50%, -50%)"}},l))}return(0,t.jsx)("div",{className:"relative w-full h-96 max-w-2xl mx-auto",children:s})},ec=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{id:l,shape:r}=e,a="transition-all ".concat(s?"stroke-blue-900":"stroke-gray-800");return({circle:(0,t.jsxs)("svg",{width:80,height:80,className:a,children:[(0,t.jsx)("rect",{x:"2",y:"2",width:76,height:76,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:40,cy:40,r:37,fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),plus:(0,t.jsxs)("svg",{width:80,height:80,className:a,children:[(0,t.jsx)("rect",{x:"2",y:"2",width:76,height:76,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("rect",{x:"4",y:"4",width:80/3-2,height:80/3-2,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("rect",{x:80-80/3,y:"4",width:80/3-2,height:80/3-2,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("rect",{x:"4",y:80-80/3,width:80/3-2,height:80/3-2,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("rect",{x:80-80/3,y:80-80/3,width:80/3-2,height:80/3-2,fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),triangle:(0,t.jsxs)("svg",{width:80,height:80,className:a,children:[(0,t.jsx)("rect",{x:"2",y:"2",width:76,height:76,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("polygon",{points:"".concat(40,",4 ").concat(76,",").concat(76," 4,").concat(76),fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),diamond:(0,t.jsxs)("svg",{width:80,height:80,className:a,children:[(0,t.jsx)("rect",{x:"2",y:"2",width:76,height:76,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("polygon",{points:"".concat(40,",4 ").concat(76,",").concat(40," ").concat(40,",").concat(76," 4,").concat(40),fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),hexagon:(0,t.jsxs)("svg",{width:80,height:80,className:a,children:[(0,t.jsx)("rect",{x:"2",y:"2",width:76,height:76,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("polygon",{points:"".concat(22,",12 ").concat(58,",12 ").concat(66,",").concat(40," ").concat(58,",").concat(68," ").concat(22,",").concat(68," ").concat(14,",").concat(40),fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),cross:(0,t.jsxs)("svg",{width:80,height:80,className:a,children:[(0,t.jsx)("rect",{x:"2",y:"2",width:76,height:76,fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("polygon",{points:"".concat(25,",10 ").concat(55,",10 ").concat(55,",").concat(25," ").concat(74,",").concat(25," ").concat(74,",").concat(55," ").concat(55,",").concat(55," ").concat(55,",").concat(74," ").concat(25,",").concat(74," ").concat(25,",").concat(55," 6,").concat(55," 6,").concat(25," ").concat(25,",").concat(25),fill:"none",stroke:"currentColor",strokeWidth:"2"})]})})[r]||(0,t.jsx)("div",{children:"Shape not found"})};if(!T)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-900 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if("waiting"===R)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please Wait"}),(0,t.jsx)("p",{className:"text-gray-600",children:"The next activity will begin soon."})]})});if("completed"===R)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Great Job!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"You completed the activity."})]})});let ed=a[D];return(0,t.jsxs)("div",{className:"min-h-screen bg-blue-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Assessment"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:T.firstName})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Question ",D+1," of ",a.length]}),(0,t.jsx)("select",{value:D,onChange:e=>{F(parseInt(e.target.value)),G(!0),K(!0),Y(!1),X(!1),$(!1),et(!1),el(!1),ea(!1)},className:"px-2 py-1 border border-gray-300 rounded text-sm",children:a.map((e,s)=>(0,t.jsxs)("option",{value:s,children:["Q",s+1]},s))})]})]})})}),(0,t.jsx)("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:ed.question}),"finger_count"===ed.type&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"text-center h-40 flex flex-col justify-center",children:E?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-9xl mb-6",children:"✌️"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Look carefully at this hand"})]}):(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"How many fingers did you see?"})}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("input",{type:"number",min:"0",max:"10",value:(null==(e=M[D])?void 0:e.answer)||"",onChange:e=>{let t=e.target.value;(""===t||parseInt(t)>=0&&10>=parseInt(t))&&eo(""===t?null:parseInt(t))},className:"w-24 h-16 text-3xl font-bold text-center border-2 border-gray-300 rounded-xl focus:border-blue-900 focus:outline-none",placeholder:"?"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Enter a number"})]})})]}),("comparison"===ed.type||"weight_comparison"===ed.type)&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[(0,t.jsx)("button",{onClick:()=>eo("A"),className:"p-8 rounded-xl border-2 transition-all ".concat((null==(r=M[D])?void 0:r.answer)==="A"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-8xl mb-4",children:null==(o=ed.objectA)?void 0:o.emoji}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:null==(n=ed.objectA)?void 0:n.name})]})}),(0,t.jsx)("button",{onClick:()=>eo("B"),className:"p-8 rounded-xl border-2 transition-all ".concat((null==(i=M[D])?void 0:i.answer)==="B"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-8xl mb-4",children:null==(c=ed.objectB)?void 0:c.emoji}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:null==(d=ed.objectB)?void 0:d.name})]})})]}),"circles_yesno"===ed.type&&(0,t.jsxs)("div",{className:"space-y-8",children:[en(!1),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>eo("yes"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(m=M[D])?void 0:m.answer)==="yes"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Yes"})}),(0,t.jsx)("button",{onClick:()=>eo("no"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(x=M[D])?void 0:x.answer)==="no"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"No"})})]})]}),"circles_select"===ed.type&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-center text-gray-600 mb-4",children:"Click on the circle that is different"}),en(!0)]}),"area_estimation"===ed.type&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:null==(u=ed.figures)?void 0:u.map(e=>{var s,l;return(0,t.jsx)("button",{onClick:()=>eo(e.id),className:"p-4 rounded-xl border-2 transition-all ".concat((null==(s=M[D])?void 0:s.answer)===e.id?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-2",children:ec(e,(null==(l=M[D])?void 0:l.answer)===e.id)}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.id})]})},e.id)})})}),"dots_yesno"===ed.type&&(0,t.jsxs)("div",{className:"space-y-8",children:[ei(!1),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>eo("yes"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(h=M[D])?void 0:h.answer)==="yes"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Yes"})}),(0,t.jsx)("button",{onClick:()=>eo("no"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(p=M[D])?void 0:p.answer)==="no"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"No"})})]})]}),"dots_select_smallest"===ed.type&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-center text-gray-600 mb-4",children:"Click on the smallest dot"}),ei(!0)]}),"liquid_capacity"===ed.type&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:null==(g=ed.containers)?void 0:g.map(e=>{var s;return(0,t.jsx)("button",{onClick:()=>eo(e.id),className:"p-4 rounded-xl border-2 transition-all ".concat((null==(s=M[D])?void 0:s.answer)===e.id?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:e.emoji}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name})]})},e.id)})})}),"messy_room_comparison"===ed.type&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[(0,t.jsx)("button",{onClick:()=>eo("A"),className:"p-6 rounded-xl border-2 transition-all ".concat((null==(b=M[D])?void 0:b.answer)==="A"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center mb-4",children:(null==(j=ed.roomA)?void 0:j.image)?(0,t.jsx)("img",{src:ed.roomA.image,alt:ed.roomA.description,className:"w-full h-full object-cover rounded-lg"}):(0,t.jsx)("div",{className:"text-6xl",children:"🏠"})}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:null==(f=ed.roomA)?void 0:f.name})]})}),(0,t.jsx)("button",{onClick:()=>eo("B"),className:"p-6 rounded-xl border-2 transition-all ".concat((null==(y=M[D])?void 0:y.answer)==="B"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center mb-4",children:(null==(v=ed.roomB)?void 0:v.image)?(0,t.jsx)("img",{src:ed.roomB.image,alt:ed.roomB.description,className:"w-full h-full object-cover rounded-lg"}):(0,t.jsx)("div",{className:"text-6xl",children:"🏠"})}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:null==(N=ed.roomB)?void 0:N.name})]})})]})}),"finger_comparison"===ed.type&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsx)("div",{className:"text-center h-96 flex flex-col justify-center",children:Q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Look carefully at both hands"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-48 h-48 mx-auto mb-4 flex items-center justify-center",children:(0,t.jsx)("img",{src:null==(w=ed.leftHand)?void 0:w.image,alt:"Left hand showing fingers",className:"max-w-full max-h-full object-contain"})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Left Hand"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-48 h-48 mx-auto mb-4 flex items-center justify-center",children:(0,t.jsx)("img",{src:null==(k=ed.rightHand)?void 0:k.image,alt:"Right hand showing fingers",className:"max-w-full max-h-full object-contain"})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Right Hand"})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Which hand had more fingers up?"}),(0,t.jsxs)("div",{className:"flex justify-center space-x-8",children:[(0,t.jsx)("button",{onClick:()=>eo("left"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(C=M[D])?void 0:C.answer)==="left"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"Left Hand"})}),(0,t.jsx)("button",{onClick:()=>eo("right"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(_=M[D])?void 0:_.answer)==="right"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"Right Hand"})})]})]})})}),"audio_estimation"===ed.type&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsx)("div",{className:"text-center h-64 flex flex-col justify-center",children:V?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-xl text-gray-900 mb-8",children:ed.question}),(0,t.jsxs)("div",{className:"flex justify-center space-x-8",children:[(0,t.jsx)("button",{onClick:()=>eo("less"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(A=M[D])?void 0:A.answer)==="less"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Less than 50"})}),(0,t.jsx)("button",{onClick:()=>eo("more"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(S=M[D])?void 0:S.answer)==="more"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"More than 50"})})]})]}):(0,t.jsx)(t.Fragment,{children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Listen carefully"}),(0,t.jsxs)("div",{className:"flex justify-center items-center space-x-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-3 h-8 bg-blue-500 rounded animate-pulse"}),(0,t.jsx)("div",{className:"w-3 h-12 bg-blue-600 rounded animate-pulse",style:{animationDelay:"0.2s"}}),(0,t.jsx)("div",{className:"w-3 h-6 bg-blue-500 rounded animate-pulse",style:{animationDelay:"0.4s"}}),(0,t.jsx)("div",{className:"w-3 h-10 bg-blue-600 rounded animate-pulse",style:{animationDelay:"0.6s"}}),(0,t.jsx)("div",{className:"w-3 h-8 bg-blue-500 rounded animate-pulse",style:{animationDelay:"0.8s"}})]}),(0,t.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Audio playing..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-2xl text-gray-900 mb-8",children:ed.instruction}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("button",{onClick:()=>{let e=a[D];if(X(!0),e.audioFile){let t=new Audio(e.audioFile);t.onended=()=>{X(!1),Y(!0)},t.onerror=()=>{console.log("Audio file not found, simulating playback"),setTimeout(()=>{X(!1),Y(!0)},3e3)},t.play().catch(e=>{console.log("Audio play failed, simulating playback"),setTimeout(()=>{X(!1),Y(!0)},3e3)})}else setTimeout(()=>{X(!1),Y(!0)},3e3)},className:"flex items-center space-x-3 px-8 py-4 bg-blue-900 text-white rounded-xl hover:bg-blue-800 transition-all",children:[(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15a2 2 0 012 2v0a2 2 0 01-2 2h-1.586a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 0010.586 14H9a2 2 0 01-2-2v0a2 2 0 012-2z"})}),(0,t.jsx)("span",{className:"text-xl",children:"Play"})]})})]})})})}),"audio_duration_comparison"===ed.type&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl text-gray-900 mb-8",children:ed.instruction}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto mb-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-32 flex flex-col justify-center",children:es?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-6 bg-green-500 rounded animate-pulse"}),(0,t.jsx)("div",{className:"w-2 h-8 bg-green-600 rounded animate-pulse",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-4 bg-green-500 rounded animate-pulse",style:{animationDelay:"0.2s"}}),(0,t.jsx)("div",{className:"w-2 h-7 bg-green-600 rounded animate-pulse",style:{animationDelay:"0.3s"}})]}),(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"})})]}),(0,t.jsx)("p",{className:"text-green-700 font-medium",children:"Playing Sound A..."})]}):(0,t.jsxs)("button",{onClick:()=>{var e;let t=a[D];el(!0),setTimeout(()=>{el(!1),$(!0)},(null==(e=t.audioA)?void 0:e.duration)||2e3)},disabled:er,className:"flex items-center space-x-3 px-6 py-4 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all mx-auto",children:[(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15a2 2 0 012 2v0a2 2 0 01-2 2h-1.586a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 0010.586 14H9a2 2 0 01-2-2v0a2 2 0 012-2z"})}),(0,t.jsx)("span",{children:"Play Sound A"})]})}),Z&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:"Played"})]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-32 flex flex-col justify-center",children:er?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-6 bg-purple-500 rounded animate-pulse"}),(0,t.jsx)("div",{className:"w-2 h-8 bg-purple-600 rounded animate-pulse",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-4 bg-purple-500 rounded animate-pulse",style:{animationDelay:"0.2s"}}),(0,t.jsx)("div",{className:"w-2 h-7 bg-purple-600 rounded animate-pulse",style:{animationDelay:"0.3s"}})]}),(0,t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"})})]}),(0,t.jsx)("p",{className:"text-purple-700 font-medium",children:"Playing Sound B..."})]}):(0,t.jsxs)("button",{onClick:()=>{var e;let t=a[D];ea(!0),setTimeout(()=>{ea(!1),et(!0)},(null==(e=t.audioB)?void 0:e.duration)||4e3)},disabled:es,className:"flex items-center space-x-3 px-6 py-4 bg-purple-600 text-white rounded-xl hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all mx-auto",children:[(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15a2 2 0 012 2v0a2 2 0 01-2 2h-1.586a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 0010.586 14H9a2 2 0 01-2-2v0a2 2 0 012-2z"})}),(0,t.jsx)("span",{children:"Play Sound B"})]})}),ee&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-purple-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("p",{className:"text-sm text-purple-600",children:"Played"})]})]})]}),Z&&ee&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xl text-gray-900 mb-6",children:ed.question}),(0,t.jsxs)("div",{className:"flex justify-center space-x-8",children:[(0,t.jsx)("button",{onClick:()=>eo("A"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(B=M[D])?void 0:B.answer)==="A"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Sound A was longer"})}),(0,t.jsx)("button",{onClick:()=>eo("B"),className:"px-8 py-4 rounded-xl border-2 transition-all ".concat((null==(W=M[D])?void 0:W.answer)==="B"?"border-blue-900 bg-blue-100":"border-gray-300 hover:border-blue-900 hover:bg-blue-50"),children:(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Sound B was longer"})})]})]})]})}),(0,t.jsxs)("div",{className:"mt-8 flex justify-between items-center",children:[(0,t.jsx)("button",{onClick:()=>{D>0&&F(D-1)},disabled:0===D,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Question ",D+1," of ",a.length]}),D===a.length-1?(0,t.jsx)("button",{onClick:()=>{let e=a.map((e,t)=>{let s=M[t],l=!1;return"finger_count"===e.type||"comparison"===e.type||"weight_comparison"===e.type||"messy_room_comparison"===e.type||"circles_yesno"===e.type||"dots_yesno"===e.type||"circles_select"===e.type||"dots_select_smallest"===e.type||"area_estimation"===e.type||"liquid_capacity"===e.type||"finger_comparison"===e.type||"audio_estimation"===e.type?l=(null==s?void 0:s.answer)===e.correctAnswer:"audio_duration_comparison"===e.type&&(l=(null==s?void 0:s.answer)===e.correctAnswer),{questionId:e.id,answer:s,isCorrect:l,timestamp:new Date().toISOString()}});{localStorage.setItem("test_".concat(P),JSON.stringify(e));let t={testComplete:!0,currentSubtest:"value_estimation_complete",studentName:(null==T?void 0:T.firstName)||"Student"};localStorage.setItem("waitingState_".concat(P),JSON.stringify(t)),localStorage.setItem("test_completed_".concat(P),JSON.stringify({completed:!0,subtest:"value-estimation",timestamp:new Date().toISOString()}))}J("waiting")},disabled:!(null==(L=M[D])?void 0:L.isComplete),className:"px-4 py-2 bg-blue-900 text-white rounded-lg hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Finish Test"}):(0,t.jsx)("button",{onClick:()=>{if(D<a.length-1){let t=D+1;for(;t<a.length;){let s=a[t];if(s.showOnlyIf){var e;if((null==(e=M[a.findIndex(e=>e.id===s.showOnlyIf.previousQuestionId)])?void 0:e.answer)!==s.showOnlyIf.previousAnswer){t++;continue}}break}t<a.length&&F(t)}},disabled:!(null==(q=M[D])?void 0:q.isComplete),className:"px-4 py-2 bg-blue-900 text-white rounded-lg hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})}}]);