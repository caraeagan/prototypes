(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},61197,e=>{"use strict";e.s(["default",()=>r,"dynamic",()=>n]);var s=e.i(43476),t=e.i(71645),a=e.i(18566);let n="force-dynamic";function l(){var e;let n=(0,a.useSearchParams)(),[l,r]=(0,t.useState)(""),[i,c]=(0,t.useState)(!1),[o,d]=(0,t.useState)(!1),[m,x]=(0,t.useState)(""),[h,u]=(0,t.useState)(null),[g,p]=(0,t.useState)(!1),[j,b]=(0,t.useState)(!1),f=(null==(e=n.get("tests"))?void 0:e.split(","))||[];(0,t.useEffect)(()=>{let e=n.get("session")||Math.random().toString(36).substring(2,15);r(e),x("".concat(window.location.origin,"/student/").concat(e));let s=localStorage.getItem("examinerStudentInfo");if(s){let t=JSON.parse(s);u(t),localStorage.setItem("session_".concat(e,"_studentInfo"),JSON.stringify(t))}},[n]),(0,t.useEffect)(()=>{if(!l)return;let e=()=>{if(c(!!localStorage.getItem("student_".concat(l))),localStorage.getItem("test_completed_".concat(l))&&!g){p(!0),b(!0);let e=JSON.parse(localStorage.getItem("students")||"[]").map(e=>e.sessionId===l?{...e,testStatus:"completed"}:e);localStorage.setItem("students",JSON.stringify(e))}};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[l,g]);let N=async()=>{try{await navigator.clipboard.writeText(m),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-blue-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Examiner Interface"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(i?"bg-green-500 animate-pulse":"bg-gray-300")}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:i?"Student Connected":"Waiting for Student"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>window.location.href="/dashboard",className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200",children:"Dashboard"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Examiner"})]})]})})}),(0,s.jsxs)("main",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"bg-stone-100 rounded-lg shadow p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Student Access"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:N,className:"px-4 py-2 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800 flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,s.jsx)("span",{children:o?"Copied!":"Copy Student Link"})]}),l&&(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["Session ID: ",l]})]})]}),h&&(0,s.jsxs)("div",{className:"bg-stone-100 rounded-lg shadow p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Student Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Name:"}),(0,s.jsxs)("p",{className:"font-medium",children:[h.firstName," ",h.lastName]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Grade:"}),(0,s.jsx)("p",{className:"font-medium",children:h.grade})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Age:"}),(0,s.jsxs)("p",{className:"font-medium",children:[h.age," years old"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-stone-100 rounded-lg shadow p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Selected Subtests"}),(0,s.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,s.jsx)("span",{className:"capitalize",children:e.replace("-"," ")})]},e))})]}),(0,s.jsxs)("div",{className:"bg-stone-100 rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Test Controls"}),i?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-green-600 mb-4",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{children:"Student is connected and ready"})]}),(0,s.jsx)("button",{onClick:()=>{let e=f.join(",");localStorage.setItem("test_start_".concat(l),"true"),localStorage.setItem("selected_tests_".concat(l),e),e.includes("value-estimation")?window.location.href="/examiner/test?session=".concat(l):e.includes("analogies")?window.location.href="/examiner/analogies?session=".concat(l):e.includes("pattern-reasoning")?window.location.href="/examiner/pattern-reasoning?session=".concat(l):e.includes("math-concepts-applications")&&(window.location.href="/examiner/math-concepts?session=".concat(l))},className:"px-6 py-3 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800",children:"Begin Assessment"})]}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsxs)("div",{className:"text-gray-500 mb-4",children:[(0,s.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Waiting for student to join..."]}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Share the student link above for the student to join the session"})]})]})]}),j&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Test Completed!"]})}),(0,s.jsxs)("div",{className:"px-6 py-4",children:[(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:[h?"".concat(h.firstName," ").concat(h.lastName):"The student"," has completed all assigned subtests."]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"What would you like to do next?"})]}),(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex flex-col space-y-3",children:[(0,s.jsx)("button",{onClick:()=>{window.location.href="/dashboard"},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:"Return to Dashboard"}),(0,s.jsx)("button",{onClick:()=>{b(!1)},className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Stay on Current Page"})]})]})})]})}function r(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(l,{})})}}]);