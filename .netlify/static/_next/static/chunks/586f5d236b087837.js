(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},78496,e=>{"use strict";e.s(["default",()=>i,"dynamic",()=>l]);var t=e.i(43476),s=e.i(18566),r=e.i(71645);let l="force-dynamic",n=[{id:1,word:"baf",phonetic:"/bæf/",difficulty:"easy"},{id:2,word:"tep",phonetic:"/tɛp/",difficulty:"easy"},{id:3,word:"drim",phonetic:"/drɪm/",difficulty:"easy"},{id:4,word:"flob",phonetic:"/flɒb/",difficulty:"medium"},{id:5,word:"sprin",phonetic:"/sprɪn/",difficulty:"medium"},{id:6,word:"thwack",phonetic:"/θwæk/",difficulty:"medium"},{id:7,word:"blength",phonetic:"/blɛŋθ/",difficulty:"hard"},{id:8,word:"scrump",phonetic:"/skrʌmp/",difficulty:"hard"},{id:9,word:"flisp",phonetic:"/flɪsp/",difficulty:"hard"},{id:10,word:"throng",phonetic:"/θrɒŋ/",difficulty:"hard"}];function i(){let e=(0,s.useParams)();(0,s.useRouter)();let l=e.sessionId,[i,a]=(0,r.useState)(null),[d,o]=(0,r.useState)(0),[c,m]=(0,r.useState)({}),[x,u]=(0,r.useState)("active"),[h,g]=(0,r.useState)("");(0,r.useEffect)(()=>{{let e=localStorage.getItem("student_".concat(l));e&&a(JSON.parse(e))}},[l]),(0,r.useEffect)(()=>{if("waiting"===x){let e=()=>{try{let e=localStorage.getItem("examinerCommand_".concat(l));if(e){let t=JSON.parse(e);"complete_test"===t.action&&(localStorage.removeItem("examinerCommand_".concat(l)),u("completed"))}}catch(e){console.error("Error polling for examiner commands:",e)}};e();let t=setInterval(e,1e3);return()=>clearInterval(t)}},[x,l]);let b=e=>{let t={...c};t[d]={answer:e.trim(),correctWord:n[d].word,isComplete:e.trim().length>0},m(t);{let e={currentQuestion:d,answers:t,studentName:(null==i?void 0:i.firstName)||"Student",testType:"nonsense-word-decoding"};localStorage.setItem("nonsenseWordDecodingTestState_".concat(l),JSON.stringify(e))}},f=(0,r.useCallback)(()=>{h.trim()&&b(h),d<n.length-1&&(o(d+1),g(""))},[d,h]),p=()=>{h.trim()&&b(h);let e=n.map((e,t)=>{let s=c[t]||{answer:"",correctWord:e.word},r=s.answer.toLowerCase()===e.word.toLowerCase();return{questionId:e.id,word:e.word,studentAnswer:s.answer,isCorrect:r,timestamp:new Date().toISOString()}});{localStorage.setItem("nonsenseWordDecodingTest_".concat(l),JSON.stringify(e));let t={testComplete:!0,currentSubtest:"nonsense_word_decoding_complete",studentName:(null==i?void 0:i.firstName)||"Student"};localStorage.setItem("waitingState_".concat(l),JSON.stringify(t)),localStorage.setItem("test_completed_".concat(l),JSON.stringify({completed:!0,subtest:"nonsense-word-decoding",timestamp:new Date().toISOString()}))}u("waiting")};if((0,r.useEffect)(()=>{let e=e=>{"Enter"===e.key&&"active"===x&&(e.preventDefault(),d===n.length-1?h.trim()&&p():h.trim()&&f())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[x,d,h,f]),!i)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-900 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if("waiting"===x)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please Wait"}),(0,t.jsx)("p",{className:"text-gray-600",children:"The next activity will begin soon."})]})});if("completed"===x)return(0,t.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Great Job!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"You completed the nonsense word decoding test."})]})});let w=n[d];return(0,t.jsxs)("div",{className:"min-h-screen bg-blue-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Nonsense Word Decoding"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:i.firstName})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Word ",d+1," of ",n.length]})})]})})}),(0,t.jsx)("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"bg-stone-100 rounded-xl shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Read the nonsense word out loud"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"bg-white border-4 border-blue-600 rounded-xl p-8 inline-block shadow-lg",children:[(0,t.jsx)("div",{className:"text-6xl font-bold text-gray-900 mb-2",children:w.word}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"(This is a made-up word)"})]})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Please read this word out loud to the examiner."}),(0,t.jsx)("p",{className:"text-md text-gray-600",children:"Then type what you read in the box below:"})]}),(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)("label",{htmlFor:"decoding-input",className:"block text-lg font-medium text-gray-700 mb-4",children:"Type the word as you read it:"}),(0,t.jsx)("input",{id:"decoding-input",type:"text",value:h,onChange:e=>{g(e.target.value)},placeholder:"Type what you read...",className:"w-full px-4 py-4 text-xl text-center border-2 border-gray-300 rounded-xl focus:border-blue-900 focus:outline-none",autoFocus:!0}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-3",children:["Press ",(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-xs",children:"Enter"})," or click Next to continue"]})]})]}),(0,t.jsxs)("div",{className:"mt-8 flex justify-between items-center",children:[(0,t.jsx)("button",{onClick:()=>{if(d>0){var e;o(d-1),g((null==(e=c[d-1])?void 0:e.answer)||"")}},disabled:0===d,className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Word ",d+1," of ",n.length]}),d===n.length-1?(0,t.jsx)("button",{onClick:p,disabled:!h.trim(),className:"px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Finish Test"}):(0,t.jsx)("button",{onClick:f,disabled:!h.trim(),className:"px-6 py-3 bg-blue-900 text-white rounded-lg font-medium hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})}}]);